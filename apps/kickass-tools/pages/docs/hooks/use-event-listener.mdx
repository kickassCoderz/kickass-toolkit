import { UseEventListenerExampleBasic } from '../../../examples/hooks'
import { DocsLayout } from '../../../components'

export const meta = {
    repository: 'hooks',
    title: 'useEventListener',
    description: 'Subscribes an event listener to the target, and automatically unsubscribes it on unmount.'
}

[Back to Hooks](/docs/hooks)

# {meta.title}

<p>{meta.description}</p>

-   Automatically unsubscribes on component unmount.
-   Properly handle event listener objects.
-   No need to wrap callback with `useCallback`, because hook manages callback mutation internally.
-   SSR-friendly.
-   Full TypeScript support for any target type.

## Basic usage

<UseEventListenerExampleBasic />

```jsx
import { useEventListener } from '@kickass-coderz/hooks'
import { styled } from '@stitches/react'
import { useRef } from 'react'

const Box = styled('div', {
    width: 400,
    height: 400,
    backgroundColor: 'HotPink',
    position: 'relative',
    overflow: 'hidden'
})

const Ball = styled('div', {
    position: 'absolute',
    width: 50,
    height: 50,
    borderRadius: '100%',
    backgroundColor: 'Red'
})

const UseEventListenerExampleBasic = () => {
    const elementRef = useRef()
    const ballRef = useRef()

    useEventListener(elementRef, 'mousemove', ({ offsetX, offsetY }) => {
        ballRef.current.style.transform = `translate(${offsetX}px,${offsetY}px)`
    })

    return (
        <Box ref={elementRef}>
            <Ball ref={ballRef} />
        </Box>
    )
}
```

## Api Reference

| Property    | Type                                 | Default | Description                                                                                                                                                        |
| :---------- | :----------------------------------- | :------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `target`    | `EventTarget`                        | `none`  | Any valid `EventTarget`, be it `element`, `elementref`, `window`, `document` or for example `fileReader` instance.                                                 |
| `eventType` | `string`                             | `none`  | Any valid `EventType` for targeted reference. Types will be inferred based on target.                                                                              |
| `listener`  | `EventListenerOrEventListenerObject` | `none`  | A `function` or `EventListenerObject`. See more [here](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#the_event_listener_callback). |

export default ({ children }) => <DocsLayout meta={meta}>{children}</DocsLayout>
